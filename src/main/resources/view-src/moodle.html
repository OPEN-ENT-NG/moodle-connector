<!DOCTYPE html>
<html>
    <head>
        <title>{{#i18n}}moodle.title{{/i18n}}</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta name="viewport" content="initial-scale=1, maximum-scale=1" />
        <script src="/assets/js/entcore/ng-app.js?v=@@VERSION" type="text/javascript" id="context"></script>
        <script src="/moodle/public/dist/application.js?v=@@VERSION" type="text/javascript"></script>
        <script type="text/ng-template" id="empty"></script>
        <script type="text/javascript">
            var selfEnrollmentCategoryId = {{selfEnrollmentCategoryId}};
        </script>
    </head>
    <body ng-controller="mainController" class="moodle">
        <portal>
            <div class="row">
                <app-title>
                    <h1>
                        <span>
                            <i18n>moodle.subtitle</i18n>
                        </span>
                        <span class="zero-mobile twelve-desktop">
                            -
                        </span>
                        <span class="zero-mobile twelve-desktop">
                            <i18n>moodle.title</i18n>
                        </span>
                    </h1>
                </app-title>
                <div class="row twelve cell tabs zero-mobile" style="min-height: 60px;" ng-if="show.currentTab != 'converter'">
                    <div class="cell">
                        <header class="horizontal-spacing selected" data-ng-click="switchTab('dashboard')"
                                data-ng-class="{ selected: show.currentTab === 'dashboard' }">
                            <span>
                                <i18n>moodle.dashboard.dashboard</i18n>
                            </span>
                        </header>
                        <header class="horizontal-spacing " data-ng-click="switchTab('courses')"
                                data-ng-class="{ selected: show.currentTab === 'courses' }">
                            <span>
                                <i18n>moodle.dashboard.courses</i18n>
                            </span>
                        </header>
                        <!--<header class="horizontal-spacing" data-ng-click="switchTab('library')"
                        data-ng-class="{ selected: show.currentTab === 'library' }">
                            <span>
                                <i18n>moodle.dashboard.libraries</i18n>
                            </span>
                        </header>-->
                    </div>
                    <button class="right-magnet" ng-click="openCreateCoursePopUp()" workflow="moodle.createCourse">
                        <i18n>moodle.course.new</i18n>
                    </button>
                    <button class="cancel right-magnet" ng-click="goConverter()" workflow="moodle.convert">
                        <i18n>moodle.convert.button</i18n>
                    </button>
                </div>
                <nav class="vertical mobile-navigation tabs zero-desktop heightNavBar" side-nav >
                    <header class="horizontal-spacing selected row ellipsis" data-ng-click="switchTab('dashboard')"
                            data-ng-class="{ selected: show.currentTab === 'dashboard' }">
                        <span>
                            <i18n>moodle.dashboard.dashboard</i18n>
                        </span>
                    </header>
                    <header class="horizontal-spacing row ellipsis" data-ng-click="switchTab('courses')"
                            data-ng-class="{ selected: show.currentTab === 'courses' }">
                        <span>
                            <i18n>moodle.dashboard.courses</i18n>
                        </span>
                    </header>
                    <!--<header class="horizontal-spacing row" data-ng-click="switchTab('library')"
                    data-ng-class="{ selected: show.currentTab === 'library' }">
                        <span>
                            <i18n>moodle.dashboard.libraries</i18n>
                        </span>
                    </header>-->
                </nav>
            </div>

            <lightbox class="row autoHeight" show="show.lightboxes === true"  on-close="closePopUp()">
                <container template="lightboxContainer"></container>
            </lightbox>

            <container template="main"></container>
            <container template="toaster"></container>
            <div ng-click="openCreateCoursePopUp()" ng-if="!show.toaster && show.currentTab != 'courses' && show.currentTab != 'converter'"
                 class="fab zero-desktop" workflow="moodle.createCourse">
                +
            </div>
            <div class="fabDouble zero-desktop" ng-if="!show.toaster && show.currentTab == 'courses'"
                 workflow="moodle.createCourse">
                <span class="fab-action-button">
                    +
                </span>
                <ul class="fab-buttons">
                    <li class="fab-buttons__item">
                        <a ng-click="openCreateCoursePopUp()" class="fab-buttons__link" data-tooltip="Cours">
                            <i class="icon-material course"></i>
                        </a>
                    </li>
                    <li class="fab-buttons__item">
                        <a ng-click="openPopUpFolder()" class="fab-buttons__link" data-tooltip="Dossier">
                            <i class="icon-material folderIcon"></i>
                        </a>
                    </li>
                </ul>
            </div>
        </portal>
    </body>
</html>

